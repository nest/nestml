{#
  Generates code for emit_spike() function call
  @param ast ASTFunctionCall
#}
{%- if tracing %}/* generated by {{self._TemplateReference__context.name}} */ {% endif %}

// begin generated code for emit_spike() function
{%  if ast.get_args() | length == 0 %}
{#-     no parameters -- emit_spike() called from within neuron #}
neuron_recording_record_bit(SPIKE_RECORDING_BITFIELD, neuron_index);
send_spike(timer_count, time, neuron_index);
{%- else %}
{#-     weight and delay parameters given -- emit_spike() called from within synapse #}
#error "Synapse code generation not supported yet for SpiNNaker"
{%- endif %}
// end generated code for emit_spike() function
