{#
  Generates a series of C++ statements which perform one integration step of
  all odes defined the neuron.
#}
{%- if tracing %}/* generated by {{self._TemplateReference__context.name}} */ {% endif %}

{%- for variable_name in numeric_state_variables %}
{%-   set update_expr = numeric_update_expressions[variable_name] %}
{%-   set variable_symbol = variable_symbols[variable_name] %}
  dydx[i_{{ variable_symbol.get_symbol_name() }}] =
  {%- if ast.get_args() | length > 0 -%}
    {% if variable_name in numeric_state_variables_to_be_integrated -%}
      {{ gsl_printer.print(update_expr) }};
    {% else -%}0;{% endif -%}
  {% else -%}{{ gsl_printer.print(update_expr) }};{% endif %}
{%- endfor %}

  // Input port variables should always be set to 0
{%- for variable_symbol in neuron.get_spike_input_ports() %}
  dydx[N_SCAL_VAR + i_{{ variable_symbol.get_symbol_name() }}] = 0;
{%- endfor %}
