{#
  Generates code for emit_spike() function call
  @param ast ASTFunctionCall
#}
{%- if tracing %}/* generated by {{self._TemplateReference__context.name}} */ {% endif %}

/**
 * generated code for emit_spike() function
**/
{% if ast.get_args() | length == 0 %}
{#-     no parameters -- emit_spike() called from within neuron #}
set_spiketime(nest::Time::step(origin.get_steps() + lag + 1));
nest::SpikeEvent se;
nest::kernel().event_delivery_manager.send(*this, se, lag);
{%- else %}
delayed_spikes[{{ printer.vector_parameter }}].push({{ printer.print(ast.get_args()[0]) }});
{%- endif %}


